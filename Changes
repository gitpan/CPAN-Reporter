Revision history for Perl module CPAN::Reporter

0.99_09 Mon Sep 10 09:50:57 EDT 2007

    *** DEVELOPMENT RELEASE FOR TESTING: Not recommended for general use ***

    - Fix test failure on bleadperl

0.99_08 Sat Sep  8 18:07:08 EDT 2007

    * History file of sent reports has a new name ('reports-sent.db') and a 
      new format with phase of testing for report ('PL', 'make', 'test')

    - More robust check for Test::Harness 2.99_01 (works even with out-of-date
      releases of version.pm)

    - More refactoring of config/history functions into separate modules

0.99_07 Wed Sep  5 18:20:37 EDT 2007

    - Skips inactivity timeout on Win32 without Win32::Process >= 0.10
      (bug found by Corion)

    - Bails out on Test::Harness 2.99_01 (not supported)

0.99_06 Wed Sep  5 16:56:23 EDT 2007

    - Added support for new message format from Test::Harness alpha (2.99_02)

    - Changed grading for test files with no output from FAIL to UNKNOWN to
      harmonize with new Test::Harness approach

    - Falls back to overall 'make test' exit code for success or failure if 
      recursive Makefile.PL's are detected; File::Find added to prereqs;
      Bumped EU::MM prereq to 6.36 to get bug fixes for recursion and more

    - record_command() wrappers do better error checking for exec failures

    - Bumped File::Copy::Recursive dependency to 0.35 (fixes Win32 bug)

    - More defensive test coding

    - changed to the Apache License, version 2.0; (it's clearer, relicensable,
      and is explicit about contributions)

0.99_05 Mon Aug 27 16:16:50 EDT 2007

    - Fixed copy/paste typo that caused testing to fail; (serves me right
      for rushing out 0.99_04 without using my normal release-testing script)
    
0.99_04 Mon Aug 27 07:40:59 EDT 2007

    - Merged changes from 0.4801

0.4801 Mon Aug 27 07:30:24 EDT 2007

    - File::Copy::Recursive 0.34 is badly broken on Windows, causing our
      tests to fail; added an "xcopy" workaround

0.99_03 Fri Aug 10 12:03:07 EDT 2007

    - Fixed broken PL tests when Module::Build is not available

    - Tweaked grade result message printed to screen

    - Noted in Pod that CPAN 1.91_53 is required for full support

    - Reordered Changes to be chronological

0.48 Tue Aug  7 16:28:42 EDT 2007
 
    - Bumped Test::More prereq to 0.62 (from 0.99_02)

    - More portable directory checks in test helper module

    - Cleaned up DOS/unix line endings in many files

0.99_02 Tue Aug  7 06:54:59 EDT 2007

    - Author tests (e.g. pod/pod-coverage) moved to 'author_t' directory

    - Module::Build subclass used for development moved to inc

    - Pulled forward maintenance changes from 0.47_01

    - Bumped Test::More prereq to 0.62

0.47_01 Sat Aug  4 00:09:54 EDT 2007
 
    - Added TEMP and TMPDIR to environment variables included in report

    - Changed inclusion of AUTHOR_TESTING environment variable 
      to any matching /AUTHOR_TEST/
    
    - Changed how "Build.PL" is executed in tests to diagnose odd Cygwin
      failure; increased test diagnostics

0.99_01 Tue Jul 31 22:28:25 EDT 2007
    
    * Major API additions and configuration changes in preparation for
      adding Makefile/Build.PL and make/Build support into CPAN.pm 

        * Deprecated test() function; test() separated into record_command()
          and grade_test() functions to support CPAN.pm sending
          reports from output generated indpendently from CPAN::Reporter,
          e.g. CPAN.pm using Expect with distroprefs

        * Added record_command() to wrap and tee a system() command and 
          return results for further evaluation in grade_*() functions;
          wrapping used to capture exit values that would otherwise be lost
          from pipe to tee; will support CPAN inactivity timouts on both *nix
          and Win32

        * Added grade_PL() function to evaluate results of 'perl Makefile.PL'
          or 'perl Build.PL'; recognizes 'require 5.xxxxx' and unsupported
          OS error messages to be 'NA' as well as ordinary pass/fail outcomes

        * Added grade_make() function to evaluate results of 'make' or
          'Build'

        * Added grade_test() function to evaluate results of 'make test'
          or 'Build test' (refactored from old test() function)
        
        * Removed 'cc_author' and 'send_duplicates' options from normal
          interactive configuration; defaults will be used unless set
          manually in the configuration file

    - separated documentation into separate API and Config files to
      keep documentation simple in the primary CPAN::Reporter file

    - added YAML & YAML::Syck to list of toolchain module versions
      reported (i.e. determines if META.yml is used by CPAN.pm)

    - began refactoring configuration code: moved configuration 
      defaults and validation into Config.pm

    - fixed bug in distribution-version string creation for .tar.bz2

0.46 Tue Jul 17 22:05:50 EDT 2007
    
    *** Significant improvements to NA report handling ***
        
        * Changes as per CPAN Testers specifications from Barbie
        * NA reports should now be sent to CPAN Testers instead of discarded

    - Tests that fail with 'OS Unsupported' or 'No support for OS' are
      now correctly identified as NA
    
    - FAIL/UNKNOWN grades results with unsatisfied prerequisites are 
      discarded immediately instead of being flagged as NA 
    
    - changed default configurations to automatically send NA just like PASS 
    
    - interactive configuration now always shows recommended options
      in addition to any prior configuration
    
    - added CPAN Testers website and wiki to SEE ALSO in docs
    
    - improved tests for detecting reports sent/not-sent

0.45 Tue Jul  3 17:07:30 EDT 2007
    
    - distribution tests that bailout now detected as FAIL instead of UNKNOWN
    
    - UNKNOWN results when prereqs are missing are downgraded to NA
      (just like FAIL reports with missing prereqs already were)

0.44 Sun Jun 17 22:05:46 EDT 2007
    
    - searches through duplicate history file instead of loading as a hash
    
    - added flocking to history file read/write 
      (and faked it for platforms that don't support flock)
    
    - duplicate history includes $Config{perl_patchlevel} if it exists

0.43 Tue Apr 24 22:55:32 EDT 2007
    
    - enhanced duplicate tracking to include Perl version (suggested by
      David Cantrell)
    
0.42 Tue Apr 24 00:27:56 EDT 2007
    
    - added "send_duplicates" option with default "no"; compares CPAN Testers
      subject lines (grade, distribution, version and platform) to previous
      test results and skips sending duplicate reports
      
0.41 Sun Mar 25 09:39:07 EDT 2007
    
    - test reports will not be sent if the distribution name doesn't appear
      appear to be an actual distribution with version and archive suffix
      (Suggested by Barbie)
    
    - refactored tests
    
    - fixed ID format in mock CPAN::Distributions used in testing

0.40 Wed Feb 28 23:30:13 EST 2007
    
    - eliminated Perl::Critic level 5 and (most) level 4 complaints
    
    - added defensive code in case CPAN.pm can't provide a valid Author
      object (Reported by David Cantrell)
    
0.39 Sat Feb 10 19:28:13 EST 2007
    
    - changed prereq version testing to better match approach used
      by CPAN.pm

    - added support for Module::Build-style extended prerequisite logic
      (e.g. ">= N.nn, !=M.mm" etc.)

0.38 Mon Dec  4 20:39:18 EST 2006
    - fixed uninitialized value warning in "Preparing test report for..."

0.37 Mon Dec  4 08:44:54 EST 2006
    - fixed false result given back to CPAN.pm when config file is missing
      but tests passed (Reported by Andreas Koenig)

0.36 Mon Dec  4 00:20:32 EST 2006
    - changed default for send_report to "no" for "na" reports to avoid
      sending spurious reports from prerequisites failures

    - customized email report intros for better help to module authors 
      receiving a CC for various types of reports

    - removed email address for RT to reduce spam

    - Added a FAQ and example config.ini

0.35 Fri Nov 10 01:52:47 EST 2006

    - fixed environment report tests for the case of undefined/empty environment variables

    - added support for CPAN.pm ANSI color messages and prompts

0.34 Wed Nov  8 05:39:22 EST 2006

    - fixed test skip block count when Module::Build is not installed
      (reported by rinceWind)

0.33 Tue Nov  7 07:37:08 EST 2006

    - Added Test::Harness and Test::More to the modules included as
      part of the toolchain version report

0.32 Tue Nov  7 01:24:14 EST 2006

    - Added versions of module toolchain (e.g. CPAN, ExtUtils::MakeMaker,
      Module::Build, etc.) to test report

    - Added Pod warning about potential privacy issues from sending
      environment and other information as part of the test report

0.31 Mon Nov  6 13:38:57 EST 2006

    - replace broken 0.30 release

0.30 Mon Nov  6 13:29:03 EST 2006

    - changed report output to have a different introductory paragraph for
      each test grade to better clarify the meaning of 'unknown' and 'na'
      results from testing

    - added select environment variables and Perl special variables to
      generated report

    - added some addition clarifications in Pod

0.29 Sat Oct 28 13:36:26 EDT 2006

    *** Backward compatibility warning: See below and 0.28_51 change log ***

        * Config file location on Mac OS X
        * Config option format and semantics for action prompts

    - fixed RT#22557: recursive build directories with no tests will no longer
      cause an "unknown" grade if tests exist at the top-level directory

    - changed action prompt rules; default is always no unless otherwise
      specified -- the suggested rule from interactive configuration has no
      impact on parsing

    - changed default action for edit_report and send_report to "no" and "yes"
      respectively if the grade is pass to avoid holding up successful 
      installations. (Suggested by Michael Schwern)

    - changed several tests to always mock configuration directory; prevents
      OS X config files from being migrated early during testing. (Reported by
      Michael Schwern).

    - added explanation of grade:action pairs during configuration

    - added validation of grade:action pairs during configuration

0.28_51 Mon Oct 23 23:47:33 EDT 2006

    *** Backward compatibility warning: configuration options have changed and
    config directory on OS X has changed ***
    
    - changed config directory on Mac OS X to ~/.cpanreporter instead of
      ~/Documents/.cpanreporter to be more like Unix; automatically moves
      config file if old directory is detected. (RT#22120)

    - changed action prompt configuration option format to support grade-
      specific actions (RT#21690)
    
    - fixed success/failure parsing when recursive make output is included;
      line parsing is now done in reverse and only the first matching line
      is used

    - changed perl version prerequisite logic; report will only be marked
      "na" if a perl version was explicitly set in the prerequisites;
      autodetection of low perl version was removed to eliminate spurious
      matches from recursive makes

    - added tests for report output format
    
0.28 Sun Oct  8 12:47:46 EDT 2006

    - fixed test programs to force cleanup temp directories 
      (due to bug in File::Temp)

0.27 Wed Oct  4 14:04:08 EDT 2006

    *** Emergency bug fix ***
    
    - fixed fatal bug in prereq collection from some versions of CPAN.pm

0.26 Wed Oct  4 09:25:08 EDT 2006

    - fixed prereq tests: requiring "0" will now pass for modules with no 
      $VERSION defined (will show that version '0' is installed)

    - fixed prereq tests for version.pm and bleadperl expansion of
      version numbers when stringified (1.2 becomes 1.200)

    - bumped ExtUtils::MakeMaker prereq version to 6.26 to ensure proper
      globbing of t/*.t files for Test::Harness

0.25 Tue Oct  3 23:00:02 EDT 2006

    - fixed prereq testing: tests are conducted in a perl subprocess to use
      same $ENV{PERL5LIB} as used for testing itself; necessary to support
      prerequisites that may be tested by CPAN.pm but not yet installed
      
    - added special logic for perl prerequisite version checks now that
      CPAN.pm passes it along

    - added tests for prereq reporting

0.24 Sun Oct  1 04:27:51 EDT 2006

    *** Emergency bug fix ***
    
    - added a dummy file to t/dist/NoTestFiles/t to ensure the directory
      is included in the distribution manifest and tarball; otherwise
      NoTestFiles tests fail

0.23 Fri Sep 29 14:35:49 EDT 2006

    - changed test.pl/ExtUtils::MakeMaker handling to wrap 'make test'
      execution with a standardized (parsable) string; does not run
      test.pl twice anymore (Jonathan Rockway)

    - added additional test distributions and added tests for diagnostic
      messages explaining each grade (coverage now > 90%)

0.22 Thu Sep 28 23:44:54 EDT 2006

    - added support for future CPAN.pm support for separate requires and
      build_requires prerequisites

    - changed prerequisites report for easier reading and to show requires
      and build_requires individually, if available from CPAN.pm

    - changed test.pl test grading under ExtUtils::MakeMaker from output 
      parsing to determining the success or failure of a separate run of 
      Makefile
      
0.21 Thu Sep 28 07:06:30 EDT 2006

    - added test.pl support with full capture of output (Tim Bunce)

    - added support for "NA" grade when prerequisites are not meta or
      Perl version is too low

    - refactored tests into separate files by grade
    
0.20 Sun Sep 24 22:45:48 EDT 2006

    - fixed RT#21626: "unknown" results will now be reported to CPAN.pm as
      success and will not interrupt module installation (Slaven Rezic)

    - added support for test.pl files -- though under "make", report is based
      on exit code only and no output is collected

    - added several new tests and test distributions for greater coverage and
      confirming bug closure

    - added user feedback for test grade assigned during report generation

    - changed format of test report

0.19 Fri Sep 22 16:54:02 EDT 2006

    - changed test IO capture to IO::CaptureOutput (fixes test issues
      for Perl < 5.8) (Andreas Konig)

0.18 Thu Sep 21 21:03:57 EDT 2006

    - added workaround for a bizarre VERSION() method confict when
      Module::Signature is installed on older Perls (Andreas Konig)
      
    - added note about location of config files for Mac OS X (SKUO)

    - updated "Getting Started" Pod now that CPAN 1.88 is out

0.17 Sat Sep  9 07:11:08 EDT 2006

    - changed t/03_test_report.t to skip Module::Build tests if 
      Module::Build is not installed

0.16 Fri Sep  8 07:19:25 EDT 2006

    - fixed file mode bug in t/02_config_file_t (Slaven Rezic)

    - added first regression tests for pass/fail
    
0.15 Wed Sep  6 19:23:32 EDT 2006

    - fixed broken test() -- all tests were reporting failed

0.14 Wed Sep  6 15:53:52 EDT 2006

    - added configure() for config file generation and interactive config
    
    - removed automatic config file generation from the test() function
    
    - updated getting started documentation to reflect CPAN.pm 
      'o conf init test_report' syntax (as of 1.87_59) and new
      interactive config feature of CPAN::Reporter
    
    - added the 'fail' config value; equivalent to 'yes' if a test failed 
      and 'no' otherwise 
    
    - changed "cc_author" default to "fail"
    
    - added error checks and testing for config file generation

0.13 Tue Aug 29 06:31:38 EDT 2006

    - added slightly more verbose progress messages, including for CC's and 
      for reports not sent
    
    - minor documentation improvements

0.12 Sat Aug 26 19:05:54 EDT 2006

    - updated docs to indicate that CPAN 1.87_57 supports CPAN::Reporter

0.11 Sat Aug 26 12:20:32 EDT 2006

    - fail-safe test.pl files -- can't determine success for "make test"
      when teed and can't parse for Test::Harness output
    
    - fail-safe output parsing -- if the expected failure string from 
      Test::Harness is not found, report "unknown" instead of fail
    
    - added compatibility for CPAN.pm "reload cpan" command (Andreas Konig)
    
    - added options "debug" and "editor" (Andreas Konig)
    
    - bumped Tee version requirement

0.10 Tue Aug  8 23:56:07 EDT 2006

    - first public release -- support not yet available in CPAN.pm
      main branch

