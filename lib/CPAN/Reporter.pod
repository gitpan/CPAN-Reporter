# Generated by Pod::WikiDoc version 0.15

=pod

=head1 NAME

CPAN::Reporter - Provides Test::Reporter support for CPAN.pm

=head1 VERSION

This documentation describes version 0.11.

=head1 SYNOPSIS

=over

=item 1.

Install a version of CPAN.pm that supports CPAN::Reporter

=item 2.

Install CPAN::Reporter

=item 3.

Edit .cpanreporterE<sol>config.ini

=item 4.

TestE<sol>install modules as normal with C<<< cpan >>> or C<<< CPAN::Shell >>>

=back

=head1 DESCRIPTION

I<Note: C<<< CPAN::Reporter >>> is not yet supported by the current development release
of C<<< CPAN.pm >>>.  Advanced users who wish to experiment with C<<< CPAN::Reporter >>> may
see L</"GETTING STARTED"> for instructions on installing a development branch
that supports it.>

C<<< CPAN::Reporter >>> is an add-on for the C<<< CPAN.pm >>> module that uses
L<Test::Reporter> to send the results of module tests to the CPAN
Testers project.  

The goal of the CPAN Testers project ( L<http://testers.cpan.org/> ) is to
test as many CPAN packages as possible on as many platforms as
possible.  This provides valuable feedback to module authors and
potential users to identify bugs or platform compatibility issues and
improves the overall quality and value of CPAN.

One way individuals can contribute is to send test results for each module that
they test or install.  Installing C<<< CPAN::Reporter >>> gives the option
of automatically generating and emailing test reports whenever tests are run
via C<<< CPAN.pm >>>.

=head1 GETTING STARTED

C<<< CPAN::Reporter >>> requires a version of C<<< CPAN.pm >>> that knows to look for it.
The current development release of C<<< CPAN.pm >>> does not yet support
C<<< CPAN::Reporter >>>.  However, a development branch with patches for
C<<< CPAN::Reporter >>> is available from a subversion repository:

  https://pause.perl.org:5460/svn/cpanpm/branches/dagolden-cpan-reporter

This branch roughly corresponds to CPAN 1.87_55 plus a few additional
patches, including C<<< CPAN::Reporter >>> support.

Advanced users may wish to install this branch and experiment with 
C<<< CPAN::Reporter >>>.  Note -- there is no guarantee that this branch is
stable.  Proceed with caution.

To install the C<<< CPAN.pm >>> branch:

=over

=item *

export the source code from the repository

=back

  $ svn export (repository url above)

=over

=item *

inside the checkout directory, run "perl Makefile.PL".  Ignore errors

=item *

run "make"

=item *

run "make install"

=back

Depending on the version of C<<< CPAN.pm >>> already installed, users may be prompted
to renew their configuration settings when they next run C<<< cpan >>>.  This will
include an option to enable C<<< CPAN::Reporter >>>.  To manually enable
C<<< CPAN::Reporter >>>, type the following commands from the C<<< CPAN.pm >>> shell prompt:

  cpan> o conf test_report 1
  cpan> o conf commit

After installation, users will need to edit their C<<< CPAN::Reporter >>>
configuration file per the instructions below.

=head1 CONFIG FILE OPTIONS

Default options for C<<< CPAN::Reporter >>> are read from a configuration file 
C<<< .cpanreporter/config.ini >>> in the user's home directory (Unix) or "My 
Documents" directory (Windows).  If CPAN::Reporter does not find a
configuration file, it will attempt to create one with default values.

The configuration file is in "ini" format, with the option name and value
separated by an "=" sign

   email_from = "John Doe" <johndoe@nowhere.org>
   cc_author = no

Options shown below as taking "yesE<sol>noE<sol>ask" should be set to one of
four values; the result of each is as follows:

=over

=item *

C<<< yes >>> -- automatic yes

=item *

C<<< no >>> -- automatic no

=item *

C<<< ask/no >>> or just C<<< ask >>> -- prompt each time, but default to no

=item *

C<<< ask/yes >>> -- prompt each time, but default to yes

=back

For prompts, the default will be used if return is pressed immediately at
the prompt or if the C<<< PERL_MM_USE_DEFAULTS >>> environment variable is set to
a true value.

Descriptions for each option follow.

=head2 Email Address (required)

C<<< CPAN::Reporter >>> requires users to provide an email address that will be used
in the "From" header of the email to cpan-testers@perl.org.

=over

=item *

C<<< email_from = <email address> >>> -- email address of the user sending the
test report; it should be a valid address format, e.g.:

=back

  user@domain
  John Doe <user@domain>
  "John Q. Public" <user@domain>

Because C<<< cpan-testers >>> uses a mailing list to collect test reports, it is
helpful if the email address provided is subscribed to the list.  Otherwise,
test reports will be held until manually reviewed and approved.  

To keep cpan-testers email separate from everyday email, it may be worthwhile
to use email program filters or to set up a free email account somewhere to use
as the cpan-testers address.

Subscribing an account to the cpan-testers list is as easy as sending a blank
email to cpan-testers-subscribe@perl.org and replying to the confirmation
email.

=head2 Standard Options

These options are included in the standard config file template that is
automatically created.

=over

=item *

C<<< cc_author = yes/no/ask >>> -- should module authors should be sent a copy of 
the test report at their C<<< author@cpan.org >>> address (default: askE<sol>no)

=item *

C<<< edit_report = yes/no/ask >>> -- edit the test report before sending 
(default: askE<sol>no)

=item *

C<<< send_report = yes/no/ask >>> -- should test reports be sent at all 
(default: askE<sol>yes)

=back

=head2 Additional Options

These additional options are only necessary in special cases, such as for
testing or for configuring C<<< CPAN::Reporter >>> to work from behind a firewall
that restricts outbound email.

=over

=item *

C<<< smtp_server = <server list> >>> -- one or more alternate outbound mail servers
if the default perl.org mail servers cannot be reached (e.g. users behind a 
firewall); multiple servers may be given, separated with a space 
(default: none)

=item *

C<<< email_to = <email address> >>> -- alternate destination for reports instead of
C<<< cpan-testers@perl.org >>>; used for testing (default: none)

=item *

C<<< editor = <editor> >>> -- editor to use to edit the test report; if not set,
Test::Reporter will use environment variables C<<< VISUAL >>>, C<<< EDITOR >>> or C<<< EDIT >>>
(in that order) to find an editor (default: none)

=item *

C<<< debug = <boolean> >>> -- turns debugging onE<sol>off (default: off)

=back

=head1 FUNCTIONS

C<<< CPAN::Reporter >>> provides one public function for use within CPAN.pm.
It is not imported during C<<< use >>>.  Ordinary users will never need it.  

=head2 C<<< test() >>>

  CPAN::Reporter::test( $cpan_dist, $system_command );

Given a C<<< CPAN::Distribution >>> object and a system command to run distribution
tests (e.g. "{make test}"), C<<< test() >>> executes the command via C<<< system() >>> while
teeing the output to a file.  Based on the output captured in the file,
C<<< test() >>> generates and sends a L<Test::Reporter> report.  It returns true if the
captured output indicates that all tests passed and false, otherwise.

=head1 KNOWN ISSUES

=over

=item *

Does not (yet?) support reporting on C<<< test.pl >>> files

=back

=head1 BUGS

Please report any bugs or feature using the CPAN Request Tracker.  
Bugs can be submitted by email to bug-CPAN-Reporter@rt.cpan.org or 
through the web interface at 
L<http://rt.cpan.org/Dist/Display.html?Queue=CPAN-Reporter>

When submitting a bug or request, please include a test-file or a patch to an
existing test-file that illustrates the bug or desired feature.

=head1 AUTHOR

David A. Golden (DAGOLDEN)

dagolden@cpan.org

http:E<sol>E<sol>www.dagolden.orgE<sol>

=head1 COPYRIGHT AND LICENSE

Copyright (c) 2006 by David A. Golden

This program is free software; you can redistribute
it andE<sol>or modify it under the same terms as Perl itself.

The full text of the license can be found in the
LICENSE file included with this module.

=head1 DISCLAIMER OF WARRANTY

BECAUSE THIS SOFTWARE IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
FOR THE SOFTWARE, TO THE EXTENT PERMITTED BY APPLICABLE LAW. EXCEPT WHEN
OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS ANDE<sol>OR OTHER PARTIES
PROVIDE THE SOFTWARE "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER
EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE
ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE SOFTWARE IS WITH
YOU. SHOULD THE SOFTWARE PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
NECESSARY SERVICING, REPAIR, OR CORRECTION.

IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY ANDE<sol>OR
REDISTRIBUTE THE SOFTWARE AS PERMITTED BY THE ABOVE LICENCE, BE
LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL,
OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE
THE SOFTWARE (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE SOFTWARE TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF
SUCH DAMAGES.


